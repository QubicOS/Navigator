export component SwipeHandler {
    // Shared state for shade and pages.
    in-out property <bool> shade_open;
    in-out property <int> page_index;
    // Number of pages in the pager.
    in property <int> page_count: 2;

    SwipeGestureHandler {
        width: parent.width;
        height: parent.height;
        handle-swipe-down: true;
        handle-swipe-up: true;
        handle-swipe-left: true;
        handle-swipe-right: true;
        moved => {
            if (self.swiping && (self.current-position.y - self.pressed-position.y) > 18px) {
                root.shade_open = true;
            } else if (self.swiping && (self.pressed-position.y - self.current-position.y) > 18px) {
                root.shade_open = false;
            }
        }
        swiped => {
            if ((self.current-position.y - self.pressed-position.y) > 18px) {
                root.shade_open = true;
            } else if ((self.pressed-position.y - self.current-position.y) > 18px) {
                root.shade_open = false;
            } else if (!root.shade_open && (self.pressed-position.x - self.current-position.x) > 30px) {
                if (root.page_index < root.page_count - 1) { root.page_index += 1; }
            } else if (!root.shade_open && (self.current-position.x - self.pressed-position.x) > 30px) {
                if (root.page_index > 0) { root.page_index -= 1; }
            }
        }
    }
}
